var P=r=>{throw TypeError(r)};var $=(r,e,t)=>e.has(r)||P("Cannot "+t);var s=(r,e,t)=>($(r,e,"read from private field"),t?t.call(r):e.get(r)),u=(r,e,t)=>e.has(r)?P("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),g=(r,e,t,i)=>($(r,e,"write to private field"),i?i.call(r,t):e.set(r,t),t);import{a as A,t as E}from"../chunks/disclose-version.DygF9grk.js";import{a5 as H,c as I,d,aa as B,n as T,ab as W,p as q,l as m,j as z,t as C,k as D,m as x,ac as J,r as w}from"../chunks/runtime.bnBzEFEb.js";import{d as F}from"../chunks/events.DzUZvcg_.js";import{s as M,r as N}from"../chunks/attributes.COMWg3C9.js";import{b as O}from"../chunks/input.CqDCL8Uf.js";function j(r,e,t,i){var a=r.__styles??(r.__styles={});a[e]!==t&&(a[e]=t,t==null?r.style.removeProperty(e):r.style.setProperty(e,t,""))}var n,o,f,b,v;class G{constructor(e,t){u(this,n);u(this,o,H(0));u(this,f,0);u(this,b);u(this,v,e=>{e.storageArea===localStorage&&e.key===s(this,n)&&I(s(this,o),d(s(this,o))+1)});g(this,n,e),g(this,b,t),typeof localStorage<"u"&&localStorage.getItem(e)===null&&localStorage.setItem(e,JSON.stringify(t))}get current(){d(s(this,o));const e=typeof localStorage<"u"?JSON.parse(localStorage.getItem(s(this,n))):s(this,b),t=new WeakMap,i=a=>{if(typeof a!="object"||a===null)return a;let l=t.get(a);return l||(l=new Proxy(a,{get:(c,h)=>(d(s(this,o)),i(Reflect.get(c,h))),set:(c,h,_)=>(I(s(this,o),d(s(this,o))+1),Reflect.set(c,h,_),typeof localStorage<"u"&&localStorage.setItem(s(this,n),JSON.stringify(e)),!0)}),t.set(a,l)),l};return B()&&T(()=>(s(this,f)===0&&window.addEventListener("storage",s(this,v)),g(this,f,s(this,f)+1),()=>{W().then(()=>{g(this,f,s(this,f)-1),s(this,f)===0&&window.removeEventListener("storage",s(this,v))})})),i(e)}set current(e){typeof localStorage<"u"&&localStorage.setItem(s(this,n),JSON.stringify(e)),I(s(this,o),d(s(this,o))+1)}}n=new WeakMap,o=new WeakMap,f=new WeakMap,b=new WeakMap,v=new WeakMap;var K=E('<h2>Rich</h2> <p>This page uses the <a href="https://github.com/Rich-Harris/local-storage-test">local-storage-test</a> from Rich Harris.</p> <h3>Adjust the settings or click the random button</h3> <button>Random</button> <div class="set svelte-1nt76h8"><label class="svelte-1nt76h8"><input type="color"> color</label> <label class="svelte-1nt76h8"><input type="range"> width</label> <label class="svelte-1nt76h8"><input type="range"> height</label></div> <div class="box"></div>',1);function tt(r,e){q(e,!0);const t=new G("box",{color:"#ff3e00",dimensions:[10,10]});function i(){t.current={color:`#${Math.floor(Math.random()*16777215).toString(16)}`,dimensions:[Math.floor(Math.random()*400)+100,Math.floor(Math.random()*400)+100]}}var a=K(),l=m(z(a),6);l.__click=i;var c=m(l,2),h=x(c),_=x(h);N(_),J(),w(h);var R=m(h,2),y=x(R);N(y),M(y,"min",100),M(y,"max",500),J(),w(R);var L=m(R,2),S=x(L);N(S),M(S,"min",100),M(S,"max",500),J(),w(L),w(c);var k=m(c,2);C(()=>{j(k,"background",t.current.color),j(k,"width",`${t.current.dimensions[0]??""}px`),j(k,"height",`${t.current.dimensions[1]??""}px`)}),O(_,()=>t.current.color,p=>t.current.color=p),O(y,()=>t.current.dimensions[0],p=>t.current.dimensions[0]=p),O(S,()=>t.current.dimensions[1],p=>t.current.dimensions[1]=p),A(r,a),D()}F(["click"]);export{tt as component};
