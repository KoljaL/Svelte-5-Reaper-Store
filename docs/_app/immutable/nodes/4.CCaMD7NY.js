var j=r=>{throw TypeError(r)};var L=(r,e,t)=>e.has(r)||j("Cannot "+t);var s=(r,e,t)=>(L(r,e,"read from private field"),t?t.call(r):e.get(r)),m=(r,e,t)=>e.has(r)?j("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),_=(r,e,t,o)=>(L(r,e,"write to private field"),o?o.call(r,t):e.set(r,t),t);import{a as H,t as B}from"../chunks/disclose-version.2ng5K0Ef.js";import"../chunks/legacy.TcOaNfvx.js";import{n as T,c as k,d as a,a2 as W,w as q,a3 as z,p as C,$ as D,l as f,j as F,t as G,k as K,a0 as R,m as x,a4 as Q,r as w}from"../chunks/runtime.B5TluBMF.js";import{d as U,s as P}from"../chunks/render.Q3zozShw.js";import{s as M,r as I}from"../chunks/attributes.BNOcghqL.js";import{b as J}from"../chunks/input.BE2mih9e.js";import{i as V}from"../chunks/lifecycle.Badju1aK.js";function N(r,e,t,o){var i=r.__styles??(r.__styles={});i[e]!==t&&(i[e]=t,t==null?r.style.removeProperty(e):r.style.setProperty(e,t,""))}var c,n,u,y,S;class X{constructor(e,t){m(this,c);m(this,n,T(0));m(this,u,0);m(this,y);m(this,S,e=>{e.storageArea===localStorage&&e.key===s(this,c)&&k(s(this,n),a(s(this,n))+1)});_(this,c,e),_(this,y,t),typeof localStorage<"u"&&localStorage.getItem(e)===null&&localStorage.setItem(e,JSON.stringify(t))}get current(){a(s(this,n));const e=typeof localStorage<"u"?JSON.parse(localStorage.getItem(s(this,c))):s(this,y),t=new WeakMap,o=i=>{if(typeof i!="object"||i===null)return i;let l=t.get(i);return l||(l=new Proxy(i,{get:(h,p)=>(a(s(this,n)),o(Reflect.get(h,p))),set:(h,p,d)=>(k(s(this,n),a(s(this,n))+1),Reflect.set(h,p,d),typeof localStorage<"u"&&localStorage.setItem(s(this,c),JSON.stringify(e)),!0)}),t.set(i,l)),l};return W()&&q(()=>(s(this,u)===0&&window.addEventListener("storage",s(this,S)),_(this,u,s(this,u)+1),()=>{z().then(()=>{_(this,u,s(this,u)-1),s(this,u)===0&&window.removeEventListener("storage",s(this,S))})})),o(e)}set current(e){typeof localStorage<"u"&&localStorage.setItem(s(this,c),JSON.stringify(e)),k(s(this,n),a(s(this,n))+1)}}c=new WeakMap,n=new WeakMap,u=new WeakMap,y=new WeakMap,S=new WeakMap;function Y(r,e){R(e,a(e).current={color:`#${Math.floor(Math.random()*16777215).toString(16)}`,dimensions:[Math.floor(Math.random()*400)+100,Math.floor(Math.random()*400)+100]})}var Z=B('<h2>Rich</h2> <p>This page uses the <a href="https://github.com/Rich-Harris/local-storage-test">local-storage-test</a> from Rich Harris.</p> <h3>Adjust the settings or click the random button</h3> <button>Random</button> <div class="set svelte-1nt76h8"><label class="svelte-1nt76h8"><input type="color"> color</label> <label class="svelte-1nt76h8"><input type="range"> </label> <label class="svelte-1nt76h8"><input type="range"> </label></div> <div class="box"></div>',1);function lt(r,e){C(e,!1);const t=D(new X("box",{color:"#ff3e00",dimensions:[100,200]}));V();var o=Z(),i=f(F(o),6);i.__click=[Y,t];var l=f(i,2),h=x(l),p=x(h);I(p),Q(),w(h);var d=f(h,2),g=x(d);I(g),M(g,"min",100),M(g,"max",500);var A=f(g);w(d);var O=f(d,2),v=x(O);I(v),M(v,"min",200),M(v,"max",500);var E=f(v);w(O),w(l);var $=f(l,2);G(()=>{P(A,` width: ${a(t).current.dimensions[0]??""}`),P(E,` height: ${a(t).current.dimensions[1]??""}`),N($,"background",a(t).current.color),N($,"width",`${a(t).current.dimensions[0]??""}px`),N($,"height",`${a(t).current.dimensions[1]??""}px`)}),J(p,()=>a(t).current.color,b=>R(t,a(t).current.color=b)),J(g,()=>a(t).current.dimensions[0],b=>R(t,a(t).current.dimensions[0]=b)),J(v,()=>a(t).current.dimensions[1],b=>R(t,a(t).current.dimensions[1]=b)),H(r,o),K()}U(["click"]);export{lt as component};
